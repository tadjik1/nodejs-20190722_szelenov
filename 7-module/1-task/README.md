# Настройка локальной стратегии

В этой задаче вам необходимо будет подключить и сконфигурировать стратегию `passport-local` для 
аутентификации пользователя по почте и паролю. Весь клиентский код уже находится в папке public, 
однако стратегия не сконфигурирована должным образом.


Схема взаимодействия клиента (написанного на React) и сервера следующая: после ввода данных для 
аутентификации в форму и ее отправке клиент формирует AJAX запрос, который посылает на адрес
`/api/login`. В ответе от сервера клиент ожидает получить либо объект, содержащий поле `token`, 
если все хорошо, либо объект, содержащий ошибки. На данный момент токен мы никуда сохранять не 
будем, после генерации с помощью модуля `uuid` он будет отдаваться клиенту. В будущем этот токен
станет ключом сессии, по которому мы сможем определять, какой пользователь сделал запрос. 


Весь клиентский и часть серверного кода уже написаны, сервер можно запустить, однако при отправке
формы сервер всегда возвращает сообщение о том, что аутентификация пока не настроена нужным образом.
Измените, пожалуйста, файл `libs/strategies/local.js` таким образом, чтобы аутентификация 
выполнялась корректно. 

Требования к стратегии следующие:
- В случае если пользователя с переданным `email` нет в базе - стратегия должна вернуть сообщение
`Нет такого пользователя`. 
- В случае, если пользователь существует (`email` находится в базе данных), но пароль неверный - 
стратегия должна вернуть сообщение `Невереный пароль`. Функция для проверки пароля находится в 
методе `.checkPassword(password)` в модели пользователя. Она принимает в качестве аргумента строку с
паролем и возвращает промис, который резолвится либо в `true`, либо в `false`.  
- Если email и пароль правильные - стратегия должна вернуть объект пользователя.

Обратите внимание на опцию `session: false`, которая передается в настройки стратегии. Эту опцию 
убирать или изменять не надо - она сообщает паспорту о том, что не нужно использовать реализацию
сессий "по умолчанию", вместо этого мы воспользуемся своей - она находится в обработчике запроса на
`api/login` в файле `app.js`.


Вы можете запускать и тестировать приложение локально, для этого достаточно выполнить команду 
`node index.js`. В результате в браузере на странице `http://localhost:3000` вы увидите форму для 
аутентификации, через которую можно отправлять запросы.


Однако прежде, чем вы сможете успешно аутентифицироваться пользователей с логинами необходимо 
сохранить в базу данных. Это можно сделать с помощью команды `node fixtures/index.js`. В результате 
в базе данных будут сохранены два пользователя с логами и паролями указанными в файле 
`fixtures/users.js`.
